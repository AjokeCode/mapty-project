{"version":3,"sources":["js/script.js"],"names":["_typeof","o","Symbol","iterator","constructor","prototype","_classPrivateFieldInitSpec","obj","privateMap","value","_checkPrivateRedeclaration","set","privateCollection","has","TypeError","_classPrivateFieldGet","receiver","_classApplyDescriptorGet","_classExtractFieldDescriptor","descriptor","get","call","_classPrivateFieldSet","_classApplyDescriptorSet","action","writable","_inherits","subClass","superClass","Object","create","configurable","defineProperty","_setPrototypeOf","p","setPrototypeOf","bind","__proto__","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","result","_getPrototypeOf","NewTarget","Reflect","construct","arguments","apply","_possibleConstructorReturn","self","_assertThisInitialized","ReferenceError","sham","Proxy","Boolean","e","valueOf","getPrototypeOf","_classCallCheck","instance","Constructor","_defineProperties","target","props","i","length","enumerable","_toPropertyKey","key","_createClass","protoProps","staticProps","_defineProperty","arg","_toPrimitive","String","input","hint","prim","toPrimitive","undefined","res","Number","form","document","querySelector","type","distance","duration","candence","elevationGain","container","Workout","coords","Date","now","slice","description","concat","types","toUpperCase","date","getMonth","getDate","Running","_Workout","_super","_this","_getDescription","calcPace","pace","toFixed","Cycling","_Workout2","_super2","_this2","calcSpeed","speed","_map","WeakMap","_mapZoomLevel","_mapEvents","_workouts","_clicks","App","_getPosition","_getLocalStorage","addEventListener","_newWorkout","_toggleElevation","_moveToPopUp","navigator","geolocation","getCurrentPosition","_loadMap","alert","position","_this3","coord","latitude","longitude","L","map","setView","tileLayer","attribution","addTo","on","_showForm","forEach","work","_renderWorkOutMarker","mapE","classList","remove","focus","add","closest","toggle","validInput","_len","Array","_key","every","inp","isFinite","allPositive","_len2","_key2","preventDefault","workout","_classPrivateFieldGet2","latlng","lat","lng","typeval","distval","durVal","canVal","elevVal","push","_renderWorkout","_hideForm","_setLocalStorage","_clicks2","toString","_this$clicks","marker","bindPopup","popup","maxWidth","minWidth","closeOnClick","autoClose","className","setPopupContent","openPopup","html","id","insertAdjacentHTML","workOutEL","workout1","find","dataset","animate","pan","localStorage","setItem","JSON","stringify","_this4","data","parse","getItem","removeItem","location","reload","app"],"mappings":";AAAA,aACC,SAAAA,EAAAC,GAAAD,OAAAA,EAAAE,mBAAAA,QAAAA,iBAAAA,OAAAC,SAAAF,SAAAA,GAAAA,cAAAA,GAAAA,SAAAA,GAAAA,OAAAA,GAAAC,mBAAAA,QAAAD,EAAAG,cAAAF,QAAAD,IAAAC,OAAAG,UAAAJ,gBAAAA,IAAAA,GAAA,SAAAK,EAAAC,EAAAC,EAAAC,GAAAC,EAAAH,EAAAC,GAAAA,EAAAG,IAAAJ,EAAAE,GAAA,SAAAC,EAAAH,EAAAK,GAAAA,GAAAA,EAAAC,IAAAN,GAAAO,MAAAA,IAAAA,UAAA,kEAAA,SAAAC,EAAAC,EAAAR,GAAAS,OAAAA,EAAAD,EAAAE,EAAAF,EAAAR,EAAAS,QAAA,SAAAA,EAAAD,EAAAG,GAAAA,OAAAA,EAAAC,IAAAD,EAAAC,IAAAC,KAAAL,GAAAG,EAAAV,MAAA,SAAAa,EAAAN,EAAAR,EAAAC,GAAAA,OAAAc,EAAAP,EAAAE,EAAAF,EAAAR,EAAAe,OAAAd,GAAAA,EAAA,SAAAS,EAAAF,EAAAR,EAAAgB,GAAAhB,IAAAA,EAAAK,IAAAG,GAAAF,MAAAA,IAAAA,UAAAU,gBAAAA,EAAAhB,kCAAAA,OAAAA,EAAAY,IAAAJ,GAAA,SAAAO,EAAAP,EAAAG,EAAAV,GAAAU,GAAAA,EAAAR,IAAAQ,EAAAR,IAAAU,KAAAL,EAAAP,OAAAU,CAAAA,IAAAA,EAAAM,SAAAX,MAAAA,IAAAA,UAAAK,4CAAAA,EAAAV,MAAAA,GAAA,SAAAiB,EAAAC,EAAAC,GAAAA,GAAAA,mBAAAA,GAAAd,OAAAc,EAAAd,MAAAA,IAAAA,UAAAa,sDAAAA,EAAAtB,UAAAwB,OAAAC,OAAAF,GAAAA,EAAAvB,UAAAD,CAAAA,YAAAK,CAAAA,MAAAkB,EAAAF,UAAAM,EAAAA,cAAAF,KAAAA,OAAAG,eAAAL,EAAAF,YAAAA,CAAAA,UAAAG,IAAAA,GAAAK,EAAAN,EAAAC,GAAA,SAAAK,EAAAhC,EAAAiC,GAAAD,OAAAA,EAAAJ,OAAAM,eAAAN,OAAAM,eAAAC,OAAAH,SAAAhC,EAAAiC,GAAAjC,OAAAA,EAAAoC,UAAAH,EAAAjC,IAAAA,EAAAiC,GAAA,SAAAI,EAAAC,GAAAC,IAAAA,EAAAC,IAAAC,OAAAA,WAAAC,IAAAC,EAAAD,EAAAE,EAAAN,GAAAC,GAAAA,EAAAM,CAAAA,IAAAA,EAAAD,EAAAzC,MAAAA,YAAAwC,EAAAG,QAAAC,UAAAL,EAAAM,UAAAH,QAAAF,EAAAD,EAAAO,MAAAD,KAAAA,WAAAE,OAAAA,EAAAP,KAAAA,IAAA,SAAAO,EAAAC,EAAA/B,GAAAA,GAAAA,IAAAA,WAAArB,EAAAqB,IAAAA,mBAAAA,GAAAA,OAAAA,EAAAA,QAAAP,IAAAO,EAAAP,MAAAA,IAAAA,UAAAuC,4DAAAA,OAAAA,EAAAD,GAAA,SAAAC,EAAAD,GAAAA,QAAAE,IAAAF,EAAAE,MAAAA,IAAAA,eAAAF,6DAAAA,OAAAA,EAAA,SAAAX,IAAAM,GAAAA,oBAAAA,UAAAA,QAAAC,UAAAD,OAAAA,EAAAA,GAAAA,QAAAC,UAAAO,KAAAC,OAAAA,EAAAA,GAAAC,mBAAAD,MAAAC,OAAAA,EAAAA,IAAAC,OAAAD,QAAApD,UAAAsD,QAAAtC,KAAA0B,QAAAC,UAAAS,QAAAC,GAAAA,gBAAAA,EAAAA,MAAAA,GAAA,OAAA,GAAA,SAAAb,EAAA5C,GAAA4C,OAAAA,EAAAhB,OAAAM,eAAAN,OAAA+B,eAAAxB,OAAAS,SAAA5C,GAAAA,OAAAA,EAAAoC,WAAAR,OAAA+B,eAAA3D,KAAAA,GAAA,SAAA4D,EAAAC,EAAAC,GAAAD,KAAAA,aAAAC,GAAAjD,MAAAA,IAAAA,UAAA,qCAAA,SAAAkD,EAAAC,EAAAC,GAAAC,IAAAA,IAAAA,EAAAA,EAAAA,EAAAD,EAAAE,OAAAD,IAAAhD,CAAAA,IAAAA,EAAA+C,EAAAC,GAAAhD,EAAAkD,WAAAlD,EAAAkD,aAAAlD,EAAAA,EAAAY,cAAAZ,EAAAA,UAAAA,IAAAA,EAAAM,UAAAI,GAAAA,OAAAG,eAAAiC,EAAAK,EAAAnD,EAAAoD,KAAApD,IAAA,SAAAqD,EAAAT,EAAAU,EAAAC,GAAAX,OAAAU,GAAAT,EAAAD,EAAA1D,UAAAoE,GAAAC,GAAAV,EAAAD,EAAAW,GAAA7C,OAAAG,eAAA+B,EAAAtC,YAAAA,CAAAA,UAAAsC,IAAAA,EAAA,SAAAY,EAAApE,EAAAgE,EAAA9D,GAAAF,OAAAgE,EAAAD,EAAAC,MAAAhE,EAAAsB,OAAAG,eAAAzB,EAAAgE,EAAA9D,CAAAA,MAAAA,EAAA4D,YAAAtC,EAAAA,cAAAN,EAAAA,UAAAlB,IAAAA,EAAAgE,GAAA9D,EAAAF,EAAA,SAAA+D,EAAAM,GAAAL,IAAAA,EAAAM,EAAAD,EAAA5E,UAAAA,MAAAuE,WAAAvE,EAAAuE,GAAAA,EAAAO,OAAAP,GAAA,SAAAM,EAAAE,EAAAC,GAAAhF,GAAA+E,WAAA/E,EAAA+E,IAAAA,OAAAA,EAAAA,OAAAA,EAAAE,IAAAA,EAAAF,EAAA7E,OAAAgF,aAAAD,QAAAE,IAAAF,EAAAG,CAAAA,IAAAA,EAAAH,EAAA5D,KAAA0D,EAAAC,GAAAhF,WAAAA,GAAAoF,WAAApF,EAAAoF,GAAAA,OAAAA,EAAAtE,MAAAA,IAAAA,UAAAkE,gDAAAA,OAAAF,WAAAE,EAAAF,OAAAO,QAAAN,GACD,IAAMO,EAAOC,SAASC,cAAc,aAC9BC,EAAOF,SAASC,cAAc,SAC9BE,EAAWH,SAASC,cAAc,cAClCG,EAAWJ,SAASC,cAAc,aAClCI,EAAWL,SAASC,cAAc,aAClCK,EAAgBN,SAASC,cAAc,SACvCM,EAAYP,SAASC,cAAc,YAEnCO,EAAO,WAGT,SAAAA,EAAYC,EAAQN,EAAUC,GAAS9B,EAAAkC,KAAAA,GAAApB,EAFhC,KAAA,OAAA,IAAIsB,MAAMtB,EACXsB,KAAAA,KAAAA,KAAKC,IAAM,GAAGC,OAAO,KAEvB,KAAKH,OAASA,EACd,KAAKN,SAAWA,EAChB,KAAKC,SAAWA,EAQnB,OAPAnB,EAAAuB,EAAA,CAAA,CAAAxB,IAAA,kBAAA9D,MACD,WAIK,KAAK2F,YAAWC,GAAAA,OAAM,KAAKC,MAAM,GAAGC,eAAaF,OAAG,KAAKC,MAAMH,MAAM,GAAEE,mBAAAA,OAHzD,CAAC,UAAW,WAAY,QAAS,QAAS,MAAO,OAAQ,OAAQ,SAAU,YACzF,UAAW,WAAY,YAGb,KAAKG,KAAKC,YAAWJ,KAAAA,OAAI,KAAKG,KAAKE,eACjDX,EAdQ,GAgBPY,EAAOC,SAAAA,GAAAlF,EAAAiF,EAASZ,GAAT,IAAAc,EAAAvE,EAAAqE,GAET,SAAAA,EAAYX,EAAQN,EAAUC,EAAUC,GAAS,IAAAkB,EAI7B,OAJ6BjD,EAAA8C,KAAAA,GACZhC,EAAAtB,EAAjCyD,EAAAD,EAAAxF,KAAM2E,KAAAA,EAAQN,EAAUC,IAFpB,QAAA,WAGJmB,EAAKlB,SAAWA,EAChBkB,EAAKC,kBACLD,EAAKE,WAAWF,EAKnB,OAJAtC,EAAAmC,EAAA,CAAA,CAAApC,IAAA,WAAA9D,MACD,WAEI,OADA,KAAKwG,MAAQ,KAAKtB,SAAW,KAAKD,UAAUwB,QAAQ,GAC7C,KAAKD,SACfN,EAXQC,GAaPO,EAAOC,SAAAA,GAAA1F,EAAAyF,EAASpB,GAAT,IAAAsB,EAAA/E,EAAA6E,GAET,SAAAA,EAAYnB,EAAQN,EAAUC,EAAUE,GAAc,IAAAyB,EAIlC,OAJkCzD,EAAAsD,KAAAA,GACjBxC,EAAAtB,EAAjCiE,EAAAD,EAAAhG,KAAM2E,KAAAA,EAAQN,EAAUC,IAFpB,QAAA,WAGJ2B,EAAKzB,cAAgBA,EACrByB,EAAKP,kBACLO,EAAKC,YAAWD,EAKnB,OAJA9C,EAAA2C,EAAA,CAAA,CAAA5C,IAAA,YAAA9D,MACD,WAEI,OADA,KAAK+G,OAAS,KAAK9B,UAAY,KAAKC,SAAS,KAAKuB,QAAQ,GACnD,KAAKM,UACfL,EAXQC,GAsBbK,EAAAC,IAAAA,QAAAC,EAAAD,IAAAA,QAAAE,EAAAF,IAAAA,QAAAG,EAAAH,IAAAA,QAAAI,EAAAJ,IAAAA,QACMK,EAAG,WAML,SAAAA,IAAalE,EAAAkE,KAAAA,GAAAzH,EAAAmH,KAAAA,EAAA,CAAAhG,UAAA,EAAAhB,WAAA,IAAAH,EAAAqH,KAAAA,EAAA,CAAAlG,UAAA,EAAAhB,MAJG,KAAEH,EAAAsH,KAAAA,EAAA,CAAAnG,UAAA,EAAAhB,WAAA,IAAAH,EAAAuH,KAAAA,EAAA,CAAApG,UAAA,EAAAhB,MAEN,KAAEH,EAAAwH,KAAAA,EAAA,CAAArG,UAAA,EAAAhB,MACJ,IAEN,KAAKuH,eACL,KAAKC,mBACL3C,EAAK4C,iBAAiB,SAAU,KAAKC,YAAY/F,KAAK,OACtDqD,EAAKyC,iBAAiB,SAAU,KAAKE,iBAAiBhG,KAAK,OAC3D0D,EAAUoC,iBAAiB,QAAS,KAAKG,aAAajG,KAAK,OA6KlE,OA5KIoC,EAAAuD,EAAA,CAAA,CAAAxD,IAAA,eAAA9D,MACD,WACO6H,UAAUC,aACbD,UAAUC,YAAYC,mBACtB,KAAKC,SAASrG,KAAK,MACnB,WACIsG,MAAO,wCAEd,CAAAnE,IAAA,WAAA9D,MACD,SAASkI,GAAS,IAAAC,EAAA,KAIRC,EAAQ,CAHGF,EAAS3C,OAAO8C,SACfH,EAAS3C,OAAO+C,WAGlCzH,EAAI,KAAAmG,EAAQuB,EAAEC,IAAI,OAAOC,QAAQL,EAAK9H,EAAE,KAAI4G,KAE5CqB,EAAEG,UAAU,iDAAkD,CAC9DC,YAAa,4FACVC,MAAKtI,EAAC,KAAI0G,IAGb1G,EAAI,KAAA0G,GAAM6B,GAAG,QAAS,KAAKC,UAAUnH,KAAK,OAE1CrB,EAAI,KAAA8G,GAAW2B,QAAQ,SAAAC,GACnBb,EAAKc,qBAAqBD,OAGjC,CAAAlF,IAAA,YAAA9D,MACD,SAAUkJ,GACNrI,EAAI,KAAAsG,EAAc+B,GAClBrE,EAAKsE,UAAUC,OAAO,UACtBnE,EAASoE,UACZ,CAAAvF,IAAA,YAAA9D,MACD,WACIiF,EAASjF,MAAQkF,EAASlF,MAAQmF,EAASnF,MAAQoF,EAAcpF,MAAQ,GACzE6E,EAAKsE,UAAUG,IAAI,YACtB,CAAAxF,IAAA,mBAAA9D,MACD,WACIoF,EAAcmE,QAAQ,gBAAgBJ,UAAUK,OAAO,iBACvDrE,EAASoE,QAAQ,gBAAgBJ,UAAUK,OAAO,mBACrD,CAAA1F,IAAA,cAAA9D,MACD,SAAYiD,GACR,IAAMwG,EAAa,WAAH,IAAAC,IAAAA,EAAAlH,UAAAmB,OAAOW,EAAKqF,IAAAA,MAAAD,GAAAE,EAAAA,EAAAA,EAAAF,EAAAE,IAALtF,EAAKsF,GAAApH,UAAAoH,GAAA,OAAKtF,EAAMuF,MAAM,SAAAC,GAAG,OAAIlF,OAAOmF,SAASD,MAC9DE,EAAc,WAAH,IAAAC,IAAAA,EAAAzH,UAAAmB,OAAOW,EAAKqF,IAAAA,MAAAM,GAAAC,EAAAA,EAAAA,EAAAD,EAAAC,IAAL5F,EAAK4F,GAAA1H,UAAA0H,GAAA,OAAK5F,EAAMuF,MAAM,SAAAC,GAAG,OAAIA,EAAM,KAE3D7G,EAAEkH,iBACF,IAMIC,EANJC,EAAqB/J,EAAI,KAAA6G,GAAYmD,OAA7BC,EAAGF,EAAHE,IAAKC,EAAGH,EAAHG,IACPC,EAAUzF,EAAKhF,MACf0K,GAAYzF,EAASjF,MACrB2K,GAAUzF,EAASlF,MACnB4K,GAAUzF,EAASnF,MACnB6K,GAAWzF,EAAcpF,MAG/B,GAAe,YAAZyK,EAAsB,CACrB,IACKhB,EAAWiB,EAASC,EAAQC,KAC5BZ,EAAYU,EAASC,EAAQC,GAElC,OAAO3C,MAAM,4BAEbmC,EAAU,IAAIlE,EAAQ,CAACqE,EAAKC,GAAME,EAASC,EAAQC,GAGvD,GAAe,YAAZH,EAAsB,CACrB,IAAIhB,EAAWiB,EAASC,EAAQE,KAC/Bb,EAAYU,EAASC,GACtB,OAAO1C,MAAM,4BAEbmC,EAAU,IAAI1D,EAAQ,CAAC6D,EAAKC,GAAME,EAASC,EAAQE,GAEvDvK,EAAI,KAAA8G,GAAW0D,KAAKV,GACpB,KAAKnB,qBAAqBmB,GAC1B,KAAKW,eAAeX,GACpB,KAAKY,YACL,KAAKC,qBAMZ,CAAAnH,IAAA,UAAA9D,MAAAkL,SAAAA,GAAA,SAAA7D,IAAA,OAAA6D,EAAAzI,MAAAD,KAAAA,WAAA,OAAA6E,EAAA8D,SAAA,WAAA,OAAAD,EAAAC,YAAA9D,EAAA6D,CACD,WAAS,IAAAE,EACLvK,EAAI,KAAAwG,GAAA+D,EAAA9K,EAAJ,KAAI+G,GAAA+D,IAAAA,OACP,CAAAtH,IAAA,uBAAA9D,MACD,SAAqBoK,GACjB7B,EAAE8C,OAAOjB,EAAQ7E,QAChBqD,MAAKtI,EAAC,KAAI0G,IACVsE,UACD/C,EAAEgD,MAAM,CACRC,SAAU,IACVC,SAAU,IACVC,cAAc,EACdC,WAAW,EACXC,UAAShG,GAAAA,OAAKwE,EAAQvE,MAAK,aAG9BgG,gBAAejG,GAAAA,OAAIwE,EAAQzE,cAC3BmG,cACA,CAAAhI,IAAA,iBAAA9D,MACD,SAAeoK,GACX,IAAI2B,EAAInG,qCAAAA,OACsBwE,EAAQvE,MAAKD,iBAAAA,OAAgBwE,EAAQ4B,GAAEpG,uCAAAA,OACxCwE,EAAQzE,YAAWC,oFAAAA,OAEbwE,EAAQnF,SAAQW,iJAAAA,OAIhBwE,EAAQlF,SAG9C,yEAEoB,YAAlBkF,EAAQvE,QACPkG,GAAInG,8EAAAA,OAE+BwE,EAAQ5D,KAAIZ,qJAAAA,OAIZwE,EAAQjF,SAGzC,8EAEe,YAAlBiF,EAAQvE,QACPkG,GAAInG,8EAAAA,OAE+BwE,EAAQrD,MAAKnB,qJAAAA,OAIbwE,EAAQhF,cAGxC,+EAGPP,EAAKoH,mBAAmB,WAAYF,KAEnC,CAAAjI,IAAA,eAAA9D,MACD,SAAaiD,GACT,IAAMiJ,EAAYjJ,EAAEO,OAAO+F,QAAQ,YAEnC,GAAI2C,EAAJ,CACA,IAAMC,EAAW7L,EAAI,KAAA8G,GAAWgF,KAAK,SAAApD,GAAI,OAAIA,EAAKgD,KAAOE,EAAUG,QAAQL,KAE3E1L,EAAI,KAAA0G,GAAMyB,QAAQ0D,EAAS5G,OAAMjF,EAAE,KAAI4G,GAAgB,CACnDoF,SAAS,EACTC,IAAK,CACDrH,SAAU,KAGlBiH,EAAS9E,aAEZ,CAAAvD,IAAA,mBAAA9D,MACD,WACIwM,aAAaC,QAAQ,WAAYC,KAAKC,UAASrM,EAAC,KAAI8G,OACvD,CAAAtD,IAAA,mBAAA9D,MACD,WAAkB,IAAA4M,EAAA,KACRC,EAAOH,KAAKI,MAAMN,aAAaO,QAAQ,aACzCF,IAEJhM,EAAI,KAAAuG,EAAayF,GACjBvM,EAAI,KAAA8G,GAAW2B,QAAQ,SAAAC,GACnB4D,EAAK7B,eAAe/B,QAE3B,CAAAlF,IAAA,QAAA9D,MACD,WACIwM,aAAaQ,WAAW,YACxBC,SAASC,aACZ5F,EAxLQ,GA0LH6F,EAAM,IAAI7F","file":"script.8b6f812a.js","sourceRoot":"..","sourcesContent":["'use strict'\r\n // prettier-ignore\r\nconst form = document.querySelector('.act-form')\r\nconst type = document.querySelector('.type');\r\nconst distance = document.querySelector('.distances');\r\nconst duration = document.querySelector('.duration');\r\nconst candence = document.querySelector('.candence');\r\nconst elevationGain = document.querySelector('.Elev');\r\nconst container = document.querySelector('.act-box');\r\n\r\nclass Workout {\r\n    date = new Date();\r\n    id = (Date.now + ''.slice(-10));\r\n    constructor(coords, distance, duration){\r\n        this.coords = coords;\r\n        this.distance = distance;\r\n        this.duration = duration;\r\n    }  \r\n    _getDescription(){\r\n        const months = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September',\r\n         'October', 'November', 'December']\r\n\r\n         this.description = `${this.types[0].toUpperCase()}${this.types.slice(1)} on\r\n          ${months[this.date.getMonth()]} ${this.date.getDate()}` \r\n    }\r\n};\r\nclass Running extends Workout{\r\n    types = 'running';\r\n    constructor(coords, distance, duration, candence){\r\n        super(coords, distance, duration)\r\n        this.candence = candence;\r\n        this._getDescription();\r\n        this.calcPace();\r\n    }\r\n    calcPace(){\r\n        this.pace = (this.duration / this.distance).toFixed(1)\r\n        return this.pace;\r\n    }\r\n};\r\nclass Cycling extends Workout{\r\n    types = 'cycling'\r\n    constructor(coords, distance, duration, elevationGain){\r\n        super(coords, distance, duration)\r\n        this.elevationGain = elevationGain;\r\n        this._getDescription();\r\n        this.calcSpeed()\r\n    }\r\n    calcSpeed(){\r\n        this.speed = (this.distance / (this.duration/60)).toFixed(1)\r\n        return this.speed;\r\n    }\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n// Application architecture\r\nclass App  {\r\n    #map;\r\n    #mapZoomLevel = 13;\r\n    #mapEvents;\r\n    #workouts = [];\r\n    #clicks = 0;\r\n    constructor(){\r\n        this._getPosition(); \r\n        this._getLocalStorage();\r\n        form.addEventListener('submit', this._newWorkout.bind(this))\r\n        type.addEventListener('change', this._toggleElevation.bind(this));\r\n        container.addEventListener('click', this._moveToPopUp.bind(this));\r\n    }\r\n    _getPosition(){\r\n        if(navigator.geolocation)\r\n        navigator.geolocation.getCurrentPosition(\r\n        this._loadMap.bind(this),\r\n        function(){\r\n            alert (\"it couldn't access your location\")\r\n        });\r\n    };\r\n    _loadMap(position){\r\n        const latitude = position.coords.latitude;\r\n        const longitude = position.coords.longitude;\r\n\r\n        const coord = [latitude, longitude]\r\n        this.#map = L.map('map').setView(coord, this.#mapZoomLevel);\r\n       \r\n        L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {\r\n        attribution: '&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\r\n        }).addTo(this.#map);\r\n    \r\n        //handling click on map\r\n        this.#map.on('click', this._showForm.bind(this))\r\n\r\n        this.#workouts.forEach(work => {\r\n            this._renderWorkOutMarker(work);\r\n        })\r\n        \r\n    };\r\n    _showForm(mapE) {\r\n        this.#mapEvents = mapE;\r\n        form.classList.remove('hidden');\r\n        distance.focus();\r\n    };\r\n    _hideForm(){\r\n        distance.value = duration.value = candence.value = elevationGain.value = '';\r\n        form.classList.add('hidden');\r\n    }\r\n    _toggleElevation(){\r\n        elevationGain.closest('.act-box-row').classList.toggle('hidden-toggle')\r\n        candence.closest('.act-box-row').classList.toggle('hidden-toggle')\r\n    }\r\n    _newWorkout(e){\r\n        const validInput = (...input) => input.every(inp => Number.isFinite(inp));\r\n        const allPositive = (...input) => input.every(inp => inp > 0);\r\n\r\n        e.preventDefault();\r\n        const { lat, lng } = this.#mapEvents.latlng;\r\n        const typeval = type.value;\r\n        const distval  = +distance.value;\r\n        const durVal = +duration.value;\r\n        const canVal = +candence.value;\r\n        const elevVal = +elevationGain.value;\r\n        let workout;\r\n        // validation of inputs\r\n        if(typeval === 'running'){\r\n            if(\r\n                !validInput(distval, durVal, canVal) || \r\n                !allPositive(distval, durVal, canVal)\r\n            ) \r\n            return alert('The inputs are not valid') \r\n\r\n            workout = new Running([lat, lng], distval, durVal, canVal)\r\n        }\r\n        \r\n        if(typeval === 'cycling'){\r\n            if(!validInput(distval, durVal, elevVal ) || \r\n            !allPositive(distval, durVal)) \r\n            return alert('The inputs are not valid') \r\n\r\n            workout = new Cycling([lat, lng], distval, durVal, elevVal);\r\n        } \r\n        this.#workouts.push(workout)\r\n        this._renderWorkOutMarker(workout);\r\n        this._renderWorkout(workout);\r\n        this._hideForm();\r\n        this._setLocalStorage();\r\n\r\n       \r\n       \r\n        // display marker\r\n \r\n};\r\n_clicks(){\r\n    this.#clicks++;\r\n}\r\n_renderWorkOutMarker(workout) {\r\n    L.marker(workout.coords)\r\n    .addTo(this.#map)\r\n    .bindPopup(\r\n    L.popup({\r\n    maxWidth: 250,\r\n    minWidth: 100,\r\n    closeOnClick: false,\r\n    autoClose: false,\r\n    className: `${workout.types}-popup`,\r\n})\r\n) \r\n.setPopupContent(`${workout.description}`)\r\n.openPopup();\r\n}\r\n_renderWorkout(workout){\r\n    let html = `\r\n    <li class=\"workout workout--${workout.types}\" data-id = \"${workout.id}\">\r\n    <h2 class=\"workout__title\">${workout.description}</h2>\r\n    <div class=\"workout__details\">\r\n        <span class=\"workout__value\">${workout.distance}</span>\r\n        <span class=\"workout__unit\">km</span>\r\n    </div>\r\n    <div class=\"workout__details\">\r\n        <span class=\"workout__value\">${workout.duration}</span>\r\n        <span class=\"workout__unit\">min</span>\r\n    </div>\r\n`\r\n\r\nif(workout.types === 'running'){\r\n    html+= `\r\n    <div class=\"workout__details\">\r\n        <span class=\"workout__value\">${workout.pace}</span>\r\n        <span class=\"workout__unit\">min/km</span>\r\n    </div>\r\n    <div class=\"workout__details\">\r\n        <span class=\"workout__value\">${workout.candence}</span>\r\n        <span class=\"workout__unit\">km/min</span>\r\n</div>\r\n</li>`\r\n}\r\nif(workout.types === 'cycling'){\r\n    html+= `\r\n    <div class=\"workout__details\">\r\n        <span class=\"workout__value\">${workout.speed}</span>\r\n        <span class=\"workout__unit\">km/min</span>\r\n    </div>\r\n    <div class=\"workout__details\">\r\n        <span class=\"workout__value\">${workout.elevationGain}</span>\r\n        <span class=\"workout__unit\">km/min</span>\r\n</div>\r\n</li> `\r\n}\r\n\r\nform.insertAdjacentHTML('afterend', html);\r\n\r\n};\r\n_moveToPopUp(e) {\r\n    const workOutEL = e.target.closest('.workout');\r\n\r\n    if(!workOutEL) return;\r\n    const workout1 = this.#workouts.find(work => work.id === workOutEL.dataset.id)\r\n\r\n    this.#map.setView(workout1.coords, this.#mapZoomLevel, {\r\n        animate: true,\r\n        pan: {\r\n            duration: 1\r\n        }\r\n    })\r\n    workout1._clicks();\r\n\r\n}\r\n_setLocalStorage(){\r\n    localStorage.setItem('workouts', JSON.stringify(this.#workouts))\r\n}\r\n_getLocalStorage(){\r\n    const data = JSON.parse(localStorage.getItem('workouts'));\r\n    if(!data) return;\r\n\r\n    this.#workouts = data;\r\n    this.#workouts.forEach(work => {\r\n        this._renderWorkout(work);\r\n    })\r\n}\r\nreset() {\r\n    localStorage.removeItem('workouts')\r\n    location.reload();\r\n}\r\n}\r\nconst app = new App();\r\n"]}