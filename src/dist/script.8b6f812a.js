parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"L4bL":[function(require,module,exports) {
"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e,o){n(t,e),e.set(t,o)}function n(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function o(t,e){return r(t,a(t,e,"get"))}function r(t,e){return e.get?e.get.call(t):e.value}function i(t,e,n){return c(t,a(t,e,"set"),n),n}function a(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function c(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u(t,e)}function u(t,e){return(u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function l(t){var e=d();return function(){var n,o=h(t);if(e){var r=h(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return p(this,n)}}function p(e,n){if(n&&("object"===t(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return f(e)}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function v(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function y(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,g(o.key),o)}}function w(t,e,n){return e&&y(t.prototype,e),n&&y(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function _(t,e,n){return(e=g(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function g(e){var n=k(e,"string");return"symbol"===t(n)?n:String(n)}function k(e,n){if("object"!==t(e)||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var r=o.call(e,n||"default");if("object"!==t(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}var m=document.querySelector(".act-form"),b=document.querySelector(".type"),S=document.querySelector(".distances"),O=document.querySelector(".duration"),P=document.querySelector(".candence"),j=document.querySelector(".Elev"),E=document.querySelector(".act-box"),M=function(){function t(e,n,o){v(this,t),_(this,"date",new Date),_(this,"id",Date.now+"".slice(-10)),this.coords=e,this.distance=n,this.duration=o}return w(t,[{key:"_getDescription",value:function(){this.description="".concat(this.types[0].toUpperCase()).concat(this.types.slice(1)," on\n          ").concat(["January","February","March","April","May","June","July","August","September","October","November","December"][this.date.getMonth()]," ").concat(this.date.getDate())}}]),t}(),W=function(t){s(n,M);var e=l(n);function n(t,o,r,i){var a;return v(this,n),_(f(a=e.call(this,t,o,r)),"types","running"),a.candence=i,a._getDescription(),a.calcPace(),a}return w(n,[{key:"calcPace",value:function(){return this.pace=(this.duration/this.distance).toFixed(1),this.pace}}]),n}(),T=function(t){s(n,M);var e=l(n);function n(t,o,r,i){var a;return v(this,n),_(f(a=e.call(this,t,o,r)),"types","cycling"),a.elevationGain=i,a._getDescription(),a.calcSpeed(),a}return w(n,[{key:"calcSpeed",value:function(){return this.speed=(this.distance/(this.duration/60)).toFixed(1),this.speed}}]),n}(),x=new WeakMap,D=new WeakMap,F=new WeakMap,q=new WeakMap,C=new WeakMap,N=function(){function t(){v(this,t),e(this,x,{writable:!0,value:void 0}),e(this,D,{writable:!0,value:13}),e(this,F,{writable:!0,value:void 0}),e(this,q,{writable:!0,value:[]}),e(this,C,{writable:!0,value:0}),this._getPosition(),this._getLocalStorage(),m.addEventListener("submit",this._newWorkout.bind(this)),b.addEventListener("change",this._toggleElevation.bind(this)),E.addEventListener("click",this._moveToPopUp.bind(this))}return w(t,[{key:"_getPosition",value:function(){navigator.geolocation&&navigator.geolocation.getCurrentPosition(this._loadMap.bind(this),function(){alert("it couldn't access your location")})}},{key:"_loadMap",value:function(t){var e=this,n=[t.coords.latitude,t.coords.longitude];i(this,x,L.map("map").setView(n,o(this,D))),L.tileLayer("https://tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}).addTo(o(this,x)),o(this,x).on("click",this._showForm.bind(this)),o(this,q).forEach(function(t){e._renderWorkOutMarker(t)})}},{key:"_showForm",value:function(t){i(this,F,t),m.classList.remove("hidden"),S.focus()}},{key:"_hideForm",value:function(){S.value=O.value=P.value=j.value="",m.classList.add("hidden")}},{key:"_toggleElevation",value:function(){j.closest(".act-box-row").classList.toggle("hidden-toggle"),P.closest(".act-box-row").classList.toggle("hidden-toggle")}},{key:"_newWorkout",value:function(t){var e=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.every(function(t){return Number.isFinite(t)})},n=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.every(function(t){return t>0})};t.preventDefault();var r,i=o(this,F).latlng,a=i.lat,c=i.lng,s=b.value,u=+S.value,l=+O.value,p=+P.value,f=+j.value;if("running"===s){if(!e(u,l,p)||!n(u,l,p))return alert("The inputs are not valid");r=new W([a,c],u,l,p)}if("cycling"===s){if(!e(u,l,f)||!n(u,l))return alert("The inputs are not valid");r=new T([a,c],u,l,f)}o(this,q).push(r),this._renderWorkOutMarker(r),this._renderWorkout(r),this._hideForm(),this._setLocalStorage()}},{key:"_clicks",value:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(){var t;i(this,C,(t=o(this,C),t++,t))})},{key:"_renderWorkOutMarker",value:function(t){L.marker(t.coords).addTo(o(this,x)).bindPopup(L.popup({maxWidth:250,minWidth:100,closeOnClick:!1,autoClose:!1,className:"".concat(t.types,"-popup")})).setPopupContent("".concat(t.description)).openPopup()}},{key:"_renderWorkout",value:function(t){var e='\n    <li class="workout workout--'.concat(t.types,'" data-id = "').concat(t.id,'">\n    <h2 class="workout__title">').concat(t.description,'</h2>\n    <div class="workout__details">\n        <span class="workout__value">').concat(t.distance,'</span>\n        <span class="workout__unit">km</span>\n    </div>\n    <div class="workout__details">\n        <span class="workout__value">').concat(t.duration,'</span>\n        <span class="workout__unit">min</span>\n    </div>\n');"running"===t.types&&(e+='\n    <div class="workout__details">\n        <span class="workout__value">'.concat(t.pace,'</span>\n        <span class="workout__unit">min/km</span>\n    </div>\n    <div class="workout__details">\n        <span class="workout__value">').concat(t.candence,'</span>\n        <span class="workout__unit">km/min</span>\n</div>\n</li>')),"cycling"===t.types&&(e+='\n    <div class="workout__details">\n        <span class="workout__value">'.concat(t.speed,'</span>\n        <span class="workout__unit">km/min</span>\n    </div>\n    <div class="workout__details">\n        <span class="workout__value">').concat(t.elevationGain,'</span>\n        <span class="workout__unit">km/min</span>\n</div>\n</li> ')),m.insertAdjacentHTML("afterend",e)}},{key:"_moveToPopUp",value:function(t){var e=t.target.closest(".workout");if(e){var n=o(this,q).find(function(t){return t.id===e.dataset.id});o(this,x).setView(n.coords,o(this,D),{animate:!0,pan:{duration:1}}),n._clicks()}}},{key:"_setLocalStorage",value:function(){localStorage.setItem("workouts",JSON.stringify(o(this,q)))}},{key:"_getLocalStorage",value:function(){var t=this,e=JSON.parse(localStorage.getItem("workouts"));e&&(i(this,q,e),o(this,q).forEach(function(e){t._renderWorkout(e)}))}},{key:"reset",value:function(){localStorage.removeItem("workouts"),location.reload()}}]),t}(),R=new N;
},{}]},{},["L4bL"], null)
//# sourceMappingURL=/script.8b6f812a.js.map